# üî• Chat System - Firebase Configuration

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∑–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –°—Ç—ä–ø–∫–∞ 1: –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π Firebase Config

–û—Ç–∏–¥–∏ –¥–æ —Ñ–∞–π–ª–∞ `js/firebase-init.js` –∏ –∑–∞–º–µ–Ω–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞:

```javascript
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "med-student-chat.firebaseapp.com",
  databaseURL: "https://med-student-chat-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "med-student-chat",
  storageBucket: "med-student-chat.appspot.com",
  messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
  appId: "YOUR_APP_ID"
};
```

**–û—Ç–∫—ä–¥–µ –¥–∞ –≤–∑–µ–º–µ—à –∫–æ–Ω—Ñ–∏–≥–∞:**
1. –û—Ç–∏–¥–∏ –Ω–∞ [Firebase Console](https://console.firebase.google.com)
2. –ò–∑–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç `med-student-chat`
3. –ü—Ä–æ–µ–∫—Ç Settings ‚Üí Web App ‚Üí –∫–æ–ø–∏—Ä–∞–π –∫–æ–Ω—Ñ–∏–≥–∞

---

### –°—Ç—ä–ø–∫–∞ 2: Firebase Realtime Database Rules

–ó–∞–ª–µ–∑ –≤ [Firebase Console](https://console.firebase.google.com) ‚Üí Realtime Database ‚Üí Rules

–ó–∞–º–µ–Ω–∏ –ø—Ä–∞–≤–∏–ª–∞—Ç–∞ —Å—ä—Å:

```json
{
  "rules": {
    ".read": "now < 1771365600000",
    ".write": "now < 1771365600000",
    "messages": {
      "$documentId": {
        ".indexOn": ["timestamp"]
      }
    },
    "active_users": {
      "$documentId": {
        ".indexOn": ["lastSeen"]
      }
    }
  }
}
```

–¢–æ–≤–∞ –ø–æ–∑–≤–æ–ª—è–≤–∞ —á–∏—Ç–∞–Ω–µ –∏ –ø–∏—Å–∞–Ω–µ –¥–æ **18 —Ñ–µ–≤—Ä—É–∞—Ä–∏ 2026**.

---

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∞

### 1Ô∏è‚É£ –ê–Ω–æ–Ω–∏–º–Ω–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏
- –ü—ä—Ä–≤–∏ –ø—ä—Ç –ø—Ä–∏ –ø–æ—Å–µ—â–µ–Ω–∏–µ ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä–∞ —Å–µ —É–Ω–∏–∫–∞–ª–µ–Ω `userId`
- –ò–º–µ—Ç–æ (–Ω–∞–ø—Ä. "–£–º–µ–Ω –°—Ç—É–¥–µ–Ω—Ç") —Å–µ –≥–µ–Ω–µ—Ä–∏—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –í—Å–µ–∫–∏ –ø–æ–ª—É—á–∞–≤–∞ —Ä–∞–∑–ª–∏—á–µ–Ω —Ü–≤—è—Ç

### 2Ô∏è‚É£ –ü—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ –Ω–∞ –∞–∫—Ç–∏–≤–Ω–∏
- –û—Ç–≤–∞—Ä—è—à –¥–æ–∫—É–º–µ–Ω—Ç ‚Üí –¥–æ–±–∞–≤—è—à —Å–µ –∫—ä–º Firebase (`active_users`)
- –ó–∞—Ç–≤–∞—Ä—è—à –¥–æ–∫—É–º–µ–Ω—Ç/–±—Ä–∞—É–∑–µ—Ä ‚Üí –ø—Ä–µ–º–∞—Ö–≤–∞—à —Å–µ
- –ê–∫–æ **‚â• 2 –∞–∫—Ç–∏–≤–Ω–∏** ‚Üí –∏–∫–æ–Ω–∫–∞—Ç–∞ –ø–æ–∫–∞–∑–≤–∞ üî¥ —Å—ä—Å –±—Ä–æ–π

### 3Ô∏è‚É£ Real-time —á–∞—Ç
- –°—ä–æ–±—â–µ–Ω–∏—è—Ç–∞ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç –≤ `messages/[documentId]/`
- –í—Å–µ–∫–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –≤–∏–∂–¥–∞ **–ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ 50 —Å—ä–æ–±—â–µ–Ω–∏—è**
- –ù–æ–≤–∏ —Å—ä–æ–±—â–µ–Ω–∏—è —Å–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞—Ç **<1 —Å–µ–∫**

### 4Ô∏è‚É£ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ Firebase Database

```
med-student-chat/
‚îú‚îÄ‚îÄ messages/
‚îÇ   ‚îú‚îÄ‚îÄ index (—Å—Ç–æ–π–Ω–æ—Å—Ç –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ -Lvw1x2y3z: {
‚îÇ   ‚îÇ   ‚îÇ   userId: "user_a7k2x9m1",
‚îÇ   ‚îÇ   ‚îÇ   userName: "–£–º–µ–Ω –°—Ç—É–¥–µ–Ω—Ç",
‚îÇ   ‚îÇ   ‚îÇ   userColor: "#FF6B6B",
‚îÇ   ‚îÇ   ‚îÇ   text: "–ö–∞–∫–≤–æ –µ –∞–±—Å–æ—Ä–±—Ü–∏—è—Ç–∞?",
‚îÇ   ‚îÇ   ‚îÇ   timestamp: 1705683600000,
‚îÇ   ‚îÇ   ‚îÇ   id: "1705683600000_xyz123"
‚îÇ   ‚îÇ   ‚îÇ }
‚îÇ   ‚îú‚îÄ‚îÄ calendar
‚îÇ   ‚îú‚îÄ‚îÄ md-viewer
‚îÇ   ‚îî‚îÄ‚îÄ ... (–¥—Ä—É–≥–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏)
‚îÇ
‚îî‚îÄ‚îÄ active_users/
    ‚îú‚îÄ‚îÄ index
    ‚îÇ   ‚îú‚îÄ‚îÄ user_a7k2x9m1: {
    ‚îÇ   ‚îÇ   userId: "user_a7k2x9m1",
    ‚îÇ   ‚îÇ   userName: "–£–º–µ–Ω –°—Ç—É–¥–µ–Ω—Ç",
    ‚îÇ   ‚îÇ   userColor: "#FF6B6B",
    ‚îÇ   ‚îÇ   lastSeen: 1705683600000,
    ‚îÇ   ‚îÇ   isActive: true
    ‚îÇ   ‚îÇ }
```

---

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏ HTML —Ñ–∞–π–ª–æ–≤–µ

–ó–∞ **calendar.html**, **md-viewer.html** –∏ –æ—Å—Ç–∞–Ω–∞–ª–∏—Ç–µ:

–î–æ–±–∞–≤—å –ø—Ä–µ–¥–∏ `</body>` tag:

```html
<!-- Firebase Scripts -->
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-database.js"></script>

<!-- Chat System Scripts -->
<script src="js/firebase-init.js"></script>
<script src="js/chat-system.js"></script>
<script src="js/chat-init.js"></script>

<!-- Chat Widget (—Å–∫–æ–ø–∏—Ä–∞–π –æ—Ç index.html) -->
<div id="chat-widget" class="chat-widget">
  ... (—Ü—è–ª–∞—Ç–∞ HTML/CSS –æ—Ç index.html)
</div>
```

---

## üì± –ü—Ä–∏–º–µ—Ä: –ê–∫—Ç–∏–≤–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–¥–∏–Ω —Å—Ç—É–¥–µ–Ω—Ç –æ—Ç–≤–∞—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç
1. –ò–≤–∞–Ω—á–æ –æ—Ç–≤–∞—Ä–∞index.html
2. –ù–µ–≥–æ–≤–∏—è—Ç ID: `user_a7k2x9m1` —Å–µ –¥–æ–±–∞–≤—è –∫—ä–º `active_users/index/`
3. –ò–∫–æ–Ω–∫–∞—Ç–∞: ‚úâÔ∏è (–±–µ–∑ –±—Ä–æ–π)

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–≤–∞–º–∞ —Å—Ç—É–¥–µ–Ω—Ç–∏ –Ω–∞ –µ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç
1. –ú–∞—Ä–∏—è —Å—ä—â–æ –æ—Ç–≤–∞—Ä–∞ index.html
2. –ù–µ–π–Ω–∏—è—Ç ID: `user_m3k9x1p2` —Å–µ –¥–æ–±–∞–≤—è
3. –ò–∫–æ–Ω–∫–∞—Ç–∞: üí¨ **2 –∞–∫—Ç–∏–≤–Ω–∏**
4. –ö–ª–∏–∫–≤–∞—Ç –∏ —Ä–∞–∑–≥–æ–≤–∞—Ä—è—Ç

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ó–∞—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞
1. –ò–≤–∞–Ω—á–æ –∑–∞—Ç–≤–∞—Ä–∞ –±—Ä–∞—É–∑–µ—Ä–∞
2. –ü–æ—Å–ª–µ 30 —Å–µ–∫ ‚Üí `user_a7k2x9m1` —Å–µ –ø—Ä–µ–º–∞—Ö–≤–∞
3. –ò–∫–æ–Ω–∫–∞—Ç–∞: ‚úâÔ∏è (—Å–∞–º–æ –ú–∞—Ä–∏—è –æ—Å—Ç–∞–Ω–∞)

---

## üõ†Ô∏è –ù–∞–ø—Ä–µ–¥–∏: –§—É–Ω–∫—Ü–∏–∏

–§—É–Ω–∫—Ü–∏–∏, –∫–æ–∏—Ç–æ –º–æ–∂–µ—à –¥–∞ –¥–æ–±–∞–≤–∏—à:

- üìå –ó–∞–∫–∞—á–µ–Ω–∏ —Å—ä–æ–±—â–µ–Ω–∏—è
- ‚¨ÜÔ∏è –û—Ç–≥–æ–≤–æ—Ä–∏ –∫—ä–º —Å—ä–æ–±—â–µ–Ω–∏–µ
- üëç –†–µ–∞–∫—Ü–∏–∏ (emojis)
- üîî Sound notification –ø—Ä–∏ –Ω–æ–≤–æ —Å—ä–æ–±—â–µ–Ω–∏–µ
- üìù –ü–∏—Å–∞–Ω–µ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ ("–ò–≤–∞–Ω—á–æ –ø–∏—à–µ...")
- üóëÔ∏è –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Å–≤–æ–∏ —Å—ä–æ–±—â–µ–Ω–∏—è
- üìã –ò—Å—Ç–æ—Ä–∏—è –Ω–∞ —Å—ä–æ–±—â–µ–Ω–∏—è (—Å–µ–π—á–∞—Å —Å–∞–º–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ 50)

---

## ‚ùì –ü—Ä–æ–±–ª–µ–º–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### –ò–∫–æ–Ω–∫–∞—Ç–∞ –Ω–µ —Å–µ –ø–æ—è–≤—è–≤–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞: –ò–º–∞ –ª–∏ Firebase —Å–∫—Ä–∏–ø—Ç–æ–≤–µ—Ç–µ?
- –ü—Ä–æ–≤–µ—Ä–∫–∞: –ó–∞—Ä–µ–¥–∏ –ª–∏ —Å–µ `firebase-init.js`?
- –ü—Ä–æ–≤–µ—Ä–∫–∞: –ë—Ä–∞—É–∑–µ—Ä–∞ –ø–æ–¥–¥—ä—Ä–∂–∞ –ª–∏ localStorage?

### –°—ä–æ–±—â–µ–Ω–∏—è—Ç–∞ –Ω–µ —Å–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞—Ç
- –ü—Ä–æ–≤–µ—Ä–∫–∞: Firebase –∫–æ–Ω—Ñ–∏–≥—ä—Ç –ø—Ä–∞–≤–∏–ª–µ–Ω –ª–∏ –µ?
- –ü—Ä–æ–≤–µ—Ä–∫–∞: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –≤–∫–ª—é—á–µ–Ω –ª–∏ –µ?
- –ü—Ä–æ–≤–µ—Ä–∫–∞: Firebase Realtime Database –µ active?
- –ü—Ä–æ–≤–µ—Ä–∫–∞: –ü—Ä–∞–≤–∏–ª–∞—Ç–∞ –ø–æ–∑–≤–æ–ª—è–≤–∞—Ç –ª–∏Ë™≠„Åø/Êõ∏„Åç?

### –ú–Ω–æ–≥–æ —Å—ä–æ–±—â–µ–Ω–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞
- –§—É–Ω–∫—Ü–∏—è –∑–∞ —á–∏—Å—Ç–µ–Ω–µ –Ω–∞ —Å—Ç–∞—Ä–∏ —Å—ä–æ–±—â–µ–Ω–∏—è:
```javascript
chatManager.chatSystem.cleanOldMessages(); // –ò–∑—Ç—Ä–∏–≤–∞ > 24 —á–∞—Å–∞
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç

‚ö†Ô∏è **–¢–µ–∫—É—â —Ä–µ–∂–∏–º: Test Mode**

–ù–∞ 18 —Ñ–µ–≤—Ä—É–∞—Ä–∏ 2026 —á–∏—Ç–∞–Ω–µ/–ø–∏—Å–∞–Ω–µ –µ –ó–ê–ë–†–ê–ù–ï–ù–û. –ü—Ä–µ–¥–∏ —Ç–æ–≤–∞ –¥–∞—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞:

1. –û–±–Ω–æ–≤–∏—à –±–∞–∑–∞—Ç–∞ —Å –Ω–æ–≤–∏ –ø—Ä–∞–≤–∏–ª–∞
2. –ò–õ–ò –Ω–∞—Ç–∏—Å–Ω–∏ "Unlock" –≤ Firebase Console

**–ü—Ä–µ–ø–æ—Ä—ä–∫–∞:** –ü—Ä–µ–¥–∏ –¥–∞ –∏–∑—Ç–µ—á–µ, –ø—Ä–µ–º–µ—Å—Ç–µ—Ç–µ —á–∞—Ç –Ω–∞ –¥—Ä—É–≥ —Å–µ—Ä–≤—ä—Ä –∏–ª–∏ –æ–±–Ω–æ–≤–µ—Ç–µ Firebase projekt.

---

## üìû Support

–ü—Ä–∏ –≤—ä–ø—Ä–æ—Å–∏, –ø—Ä–æ–≤–µ—Ä–∏:
- Browser console (F12 ‚Üí Console tab) –∑–∞ errors
- Firebase Console ‚Üí Realtime Database ‚Üí Data
- Firebase Console ‚Üí Realtime Database ‚Üí Rules

–£—Å–ø–µ—Ö! üöÄ
